/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds
 */
 
 allprojects {
 
    repositories {
        mavenCentral()
    }
    
    gradle.projectsEvaluated {
        tasks.withType(JavaCompile) {
            options.compilerArgs << "-Xlint:unchecked" << "-Xlint:deprecation"
        }
    }   
}

task copyJars(type: Copy) {
    println "Executing :copyJars"
    dependsOn ':clearBuildDirectory'
    from subprojects.collect { it.tasks.withType(Jar) }
    into "$buildDir/jars"
}

task clearBuildDirectory(type: Delete) {
  println "Executing :clearBuildDirectory"
  delete "$buildDir"
}

task dockerJars(type: Copy) {
     println "Executing :dockerJars"
     dependsOn ':copyJars'
     from "$buildDir/jars"
     into "$buildDir/dockerJars/"
     rename { fileName ->
        "${fileName.toLowerCase()}"
     }
}

subprojects {
    version = '1.0.0'
    ext {
       springBootVersion = '2.2.2.RELEASE'
	   springCloudDepndencyVersion = 'Hoxton.RELEASE'
	   ioSpringDependencyVersion = '1.0.8.RELEASE'
       lombokVersion = '4.1.6'
       azureServiceClientVersion = '1.17.1'
	   openCsvVersion = '4.6'
	   redissonVersion = '3.11.6'
    }
}

project(':Common-Service') { 
}

project(':Eureka-Server') { 
}

project(':Zuul-Server') { 
}

project(':Auth-Service') { 
}

project(':User-Management-Service') { 
}

project(':Mqtt-Service') { 
}

project(':Auth-Libraries') { 
}

project(':Redisson-Worker-Service') { 
}

project(':Api-Gateway') { 
}
